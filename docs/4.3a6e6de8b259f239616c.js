(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{eZg0:function(t,e,a){"use strict";a.r(e),a.d(e,"ContactmanagerModule",(function(){return tt}));var n=a("ofXK"),c=a("tyNb"),i=a("fXoL"),r=a("NFeN"),o=a("jhN1"),s=a("2Vo4"),l=a("tk/3");let b=(()=>{class t{constructor(t){this.http=t,this.dataStore={users:[]},this._users=new s.a([])}addUser(t){return new Promise((e,a)=>{t.id=this.dataStore.users.length+1,this.dataStore.users.push(t),this._users.next(Object.assign({},this.dataStore).users),e(t)})}get users(){return this._users.asObservable()}userById(t){return this.dataStore.users.find(e=>e.id===t)}loadAll(){return this.http.get("https://angular-material-api.azurewebsites.net/users").subscribe(t=>{this.dataStore.users=t,this._users.next(Object.assign({},this.dataStore).users)},t=>{console.log("Failed to fetch users")}),this.dataStore.users}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(l.a))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac}),t})();var u=a("XhcP"),d=a("/t3+"),m=a("MutI");class p{constructor(){this.notes=[]}}var g=a("3Pt+"),h=a("0IaG"),f=a("kmnG"),S=a("d3UM"),v=a("qFsG"),R=a("iadO"),B=a("FKr1");function M(t,e){if(1&t&&(i.Sb(0,"mat-option",13),i.Nb(1,"mat-icon",3),i.Bc(2),i.Rb()),2&t){const t=e.$implicit;i.kc("value",t),i.Bb(1),i.lc("svgIcon",t),i.Bb(1),i.Dc(" ",t," ")}}function w(t,e){if(1&t&&(i.Sb(0,"mat-error"),i.Bc(1),i.Rb()),2&t){const t=i.ec();i.Bb(1),i.Cc(t.getErrorMessage())}}let C=(()=>{class t{constructor(t,e){this.dialogRef=t,this.userService=e,this.avatars=["svg-1","svg-2","svg-3","svg-4"],this.name=new g.d("",[g.p.required])}ngOnInit(){this.user=new p}getErrorMessage(){return this.name.hasError("required")?"You must enter a name":""}save(){this.userService.addUser(this.user).then(t=>{this.dialogRef.close(this.user)})}dismiss(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(h.e),i.Mb(b))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-new-contact-dialog"]],decls:31,vars:11,consts:[["mat-dialog-title",""],[1,"example-container"],["placeholder","Avatar",3,"ngModel","ngModelChange"],[3,"svgIcon"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Name","required","",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],["appearance","fill"],["matInput","","placeholder","Born",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Bio",3,"ngModel","ngModelChange"],["mat-button-color","primary",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(i.Sb(0,"h2",0),i.Bc(1," Add new contact "),i.Rb(),i.Sb(2,"mat-dialog-content"),i.Sb(3,"div",1),i.Sb(4,"mat-form-field"),i.Sb(5,"mat-select",2),i.ac("ngModelChange",(function(t){return e.user.avatar=t})),i.Sb(6,"mat-select-trigger"),i.Nb(7,"mat-icon",3),i.Bc(8),i.Rb(),i.Ac(9,M,3,3,"mat-option",4),i.Rb(),i.Rb(),i.Sb(10,"mat-form-field"),i.Sb(11,"label"),i.Sb(12,"input",5),i.ac("ngModelChange",(function(t){return e.user.name=t})),i.Rb(),i.Rb(),i.Ac(13,w,2,1,"mat-error",6),i.Rb(),i.Sb(14,"mat-form-field",7),i.Sb(15,"label"),i.Sb(16,"input",8),i.ac("ngModelChange",(function(t){return e.user.birthDate=t})),i.Rb(),i.Rb(),i.Nb(17,"mat-datepicker-toggle",9),i.Nb(18,"mat-datepicker",null,10),i.Rb(),i.Sb(20,"mat-form-field"),i.Sb(21,"textarea",11),i.ac("ngModelChange",(function(t){return e.user.bio=t})),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(22,"mat-dialog-actions"),i.Sb(23,"button",12),i.ac("click",(function(){return e.save()})),i.Sb(24,"mat-icon"),i.Bc(25,"save"),i.Rb(),i.Bc(26," Save "),i.Rb(),i.Sb(27,"button",12),i.ac("click",(function(){return e.dismiss()})),i.Sb(28,"mat-icon"),i.Bc(29,"cancel"),i.Rb(),i.Bc(30," Cancel "),i.Rb(),i.Rb()),2&t){const t=i.qc(19);i.Bb(5),i.kc("ngModel",e.user.avatar),i.Bb(2),i.lc("svgIcon",e.user.avatar),i.Bb(1),i.Dc(" ",e.user.avatar," "),i.Bb(1),i.kc("ngForOf",e.avatars),i.Bb(3),i.kc("formControl",e.name)("ngModel",e.user.name),i.Bb(1),i.kc("ngIf",e.name.invalid),i.Bb(3),i.kc("matDatepicker",t)("ngModel",e.user.birthDate),i.Bb(1),i.kc("for",t),i.Bb(4),i.kc("ngModel",e.user.bio)}},directives:[h.f,h.c,f.c,S.a,g.k,g.m,S.c,r.a,n.k,v.b,g.c,g.o,g.e,n.l,R.b,R.d,f.f,R.a,h.b,B.n,f.b],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.example-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]}),t})();var k=a("bTqV"),x=a("STbY");let y=(()=>{class t{constructor(t){this.dialog=t,this.toggleSideNav=new i.o}ngOnInit(){}openAddContactDialog(){this.dialog.open(C,{width:"450px"}).afterClosed().subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(h.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-toolbar"]],outputs:{toggleSideNav:"toggleSideNav"},decls:14,vars:1,consts:[["color","primary"],["mat-button","",1,"sidenav-toggle",3,"click"],[1,"example-spacer"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(i.Sb(0,"mat-toolbar",0),i.Sb(1,"button",1),i.ac("click",(function(){return e.toggleSideNav.emit()})),i.Sb(2,"mat-icon"),i.Bc(3,"menu"),i.Rb(),i.Rb(),i.Sb(4,"span"),i.Bc(5,"Contact Manager"),i.Rb(),i.Nb(6,"span",2),i.Sb(7,"button",3),i.Sb(8,"mat-icon"),i.Bc(9,"more_vert"),i.Rb(),i.Rb(),i.Sb(10,"mat-menu",null,4),i.Sb(12,"button",5),i.ac("click",(function(){return e.openAddContactDialog()})),i.Bc(13,"New Contact"),i.Rb(),i.Rb(),i.Rb()),2&t){const t=i.qc(11);i.Bb(7),i.kc("matMenuTriggerFor",t)}},directives:[d.a,k.a,r.a,x.c,x.d,x.a],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.sidenav-toggle[_ngcontent-%COMP%]{display:none;padding:0;margin:8px;min-width:56px}@media (max-width:720px){.sidenav-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}}.sidenav-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;height:56px;width:56px;line-height:56px;color:#fff}"]}),t})();const O=function(t){return["/ContactManager",t]};function I(t,e){if(1&t&&(i.Sb(0,"mat-list-item"),i.Sb(1,"a",8),i.Nb(2,"mat-icon",9),i.Bc(3),i.Rb(),i.Rb()),2&t){const t=e.$implicit;i.Bb(1),i.kc("routerLink",i.nc(3,O,t.id)),i.Bb(1),i.lc("svgIcon",t.avatar),i.Bb(1),i.Dc(" ",t.name," ")}}let D=(()=>{class t{constructor(t,e){this.userService=e,this.mediaMatcher=window.matchMedia("(max-width: 720px)"),this.mediaMatcher.addEventListener("change",()=>{this.isScreenSmall()})}ngOnInit(){this.users=this.userService.users,this.userService.loadAll(),this.users.subscribe(t=>{console.log(t)})}isScreenSmall(){return this.mediaMatcher.matches}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(i.B),i.Mb(b))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-sidenav"]],decls:12,vars:5,consts:[[1,"app-sidenav-container"],[1,"app-sidenav","mat-elevation-z10",3,"opened","mode"],["sidenav",""],["color","primary"],[4,"ngFor","ngForOf"],[1,"app-sidenav-content"],[3,"toggleSideNav"],[1,"wrapper"],["matLine","",3,"routerLink"],[3,"svgIcon"]],template:function(t,e){if(1&t){const t=i.Tb();i.Sb(0,"mat-sidenav-container",0),i.Sb(1,"mat-sidenav",1,2),i.Sb(3,"mat-toolbar",3),i.Bc(4,"Contacts"),i.Rb(),i.Sb(5,"mat-nav-list"),i.Ac(6,I,4,5,"mat-list-item",4),i.fc(7,"async"),i.Rb(),i.Rb(),i.Sb(8,"div",5),i.Sb(9,"app-toolbar",6),i.ac("toggleSideNav",(function(){return i.sc(t),i.qc(2).toggle()})),i.Rb(),i.Sb(10,"div",7),i.Nb(11,"router-outlet"),i.Rb(),i.Rb(),i.Rb()}2&t&&(i.Bb(1),i.kc("opened",!e.isScreenSmall())("mode",e.isScreenSmall()?"over":"side"),i.Bb(5),i.kc("ngForOf",i.gc(7,3,e.users)))},directives:[u.b,u.a,d.a,m.c,n.k,y,c.d,m.a,c.b,B.k,r.a],pipes:[n.b],styles:[".app-sidenav-container[_ngcontent-%COMP%]{position:fixed;flex:1;width:100%;min-width:100%;height:100%;min-height:100%}.app-sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}.app-sidenav[_ngcontent-%COMP%]{width:240px}.wrapper[_ngcontent-%COMP%]{margin:50px}"]}),t})(),N=(()=>{class t{constructor(t,e){t.addSvgIconSet(e.bypassSecurityTrustResourceUrl("assets/avatars.svg"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(r.c),i.Mb(o.b))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-contactmanager-app"]],decls:1,vars:0,template:function(t,e){1&t&&i.Nb(0,"app-sidenav")},directives:[D],encapsulation:2}),t})();var P=a("Xa2L"),A=a("Wp6s"),_=a("wZkO"),F=a("Dh3D"),L=a("M9IT"),T=a("+0xr");function z(t,e){1&t&&(i.Sb(0,"mat-header-cell",14),i.Bc(1," No. "),i.Rb())}function G(t,e){if(1&t&&(i.Sb(0,"mat-cell"),i.Bc(1),i.Rb()),2&t){const t=e.$implicit;i.Bb(1),i.Dc(" ",t.id," ")}}function q(t,e){1&t&&(i.Sb(0,"mat-header-cell",14),i.Bc(1," Title "),i.Rb())}function j(t,e){if(1&t&&(i.Sb(0,"mat-cell"),i.Bc(1),i.Rb()),2&t){const t=e.$implicit;i.Bb(1),i.Dc(" ",t.title," ")}}function E(t,e){1&t&&(i.Sb(0,"mat-header-cell",14),i.Bc(1," Date "),i.Rb())}function U(t,e){if(1&t&&(i.Sb(0,"mat-cell"),i.Bc(1),i.fc(2,"date"),i.Rb()),2&t){const t=e.$implicit;i.Bb(1),i.Dc(" ",i.hc(2,1,t.date,"yyyy-MM-dd")," ")}}function $(t,e){1&t&&i.Nb(0,"mat-header-row")}function Q(t,e){1&t&&i.Nb(0,"mat-row")}const V=function(){return[5,10,20]};let X=(()=>{class t{constructor(){this.displayedColumns=["position","title","date"]}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.dataSource=new T.k(this.notes)}applyFilter(t){t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-notes"]],viewQuery:function(t,e){var a;1&t&&(i.Ec(L.a,!0),i.Ec(F.a,!0)),2&t&&(i.pc(a=i.bc())&&(e.paginator=a.first),i.pc(a=i.bc())&&(e.sort=a.first))},inputs:{notes:"notes"},decls:19,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-header"],["matInput","","placeholder","Filter",3,"keyup"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","position"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","title"],["matColumnDef","date"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"mat-form-field"),i.Sb(3,"input",2),i.ac("keyup",(function(t){return e.applyFilter(t.target.value)})),i.Rb(),i.Rb(),i.Rb(),i.Sb(4,"mat-table",3,4),i.Qb(6,5),i.Ac(7,z,2,0,"mat-header-cell",6),i.Ac(8,G,2,1,"mat-cell",7),i.Pb(),i.Qb(9,8),i.Ac(10,q,2,0,"mat-header-cell",6),i.Ac(11,j,2,1,"mat-cell",7),i.Pb(),i.Qb(12,9),i.Ac(13,E,2,0,"mat-header-cell",6),i.Ac(14,U,3,4,"mat-cell",7),i.Pb(),i.Ac(15,$,1,0,"mat-header-row",10),i.Ac(16,Q,1,0,"mat-row",11),i.Rb(),i.Nb(17,"mat-paginator",12,13),i.Rb()),2&t&&(i.Bb(4),i.kc("dataSource",e.dataSource),i.Bb(11),i.kc("matHeaderRowDef",e.displayedColumns),i.Bb(1),i.kc("matRowDefColumns",e.displayedColumns),i.Bb(1),i.kc("pageSize",2)("pageSizeOptions",i.mc(5,V)))},directives:[f.c,v.b,T.j,F.a,T.c,T.e,T.b,T.g,T.i,L.a,T.d,F.b,T.a,T.f,T.h],pipes:[n.e],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:500px;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.example-header[_ngcontent-%COMP%]{min-height:64px;padding:8px 24px 0}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),t})();function H(t,e){1&t&&(i.Sb(0,"div"),i.Nb(1,"mat-spinner"),i.Rb())}function J(t,e){if(1&t&&(i.Sb(0,"div"),i.Sb(1,"mat-card"),i.Sb(2,"mat-card-header"),i.Nb(3,"mat-icon",1),i.Sb(4,"mat-card-title"),i.Sb(5,"h2"),i.Bc(6),i.Rb(),i.Rb(),i.Sb(7,"mat-card-subtitle"),i.Bc(8),i.fc(9,"date"),i.Rb(),i.Rb(),i.Sb(10,"mat-card-content"),i.Sb(11,"mat-tab-group"),i.Sb(12,"mat-tab",2),i.Sb(13,"p"),i.Bc(14),i.Rb(),i.Rb(),i.Sb(15,"mat-tab",3),i.Nb(16,"app-notes",4),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&t){const t=i.ec();i.Bb(3),i.lc("svgIcon",t.user.avatar),i.Bb(3),i.Cc(t.user.name),i.Bb(2),i.Dc(" Birthday ",i.hc(9,5,t.user.birthDate,"d LLLL")," "),i.Bb(6),i.Dc(" ",t.user.bio," "),i.Bb(2),i.kc("notes",t.user.notes)}}let K=(()=>{class t{constructor(t,e){this.route=t,this.service=e}ngOnDestroy(){this.userServiceSubscription.unsubscribe(),this.routeParamsSubscription.unsubscribe()}ngOnInit(){this.service.loadAll(),this.routeParamsSubscription=this.route.params.subscribe(t=>{let e=t.id;e||(e=1),this.user=null,this.userServiceSubscription=this.service.users.subscribe(t=>{0!==t.length&&setTimeout(()=>{this.user=this.service.userById(Number(e))},500)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(c.a),i.Mb(b))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-main-content"]],decls:2,vars:2,consts:[[4,"ngIf"],["mat-card-avatar","",3,"svgIcon"],["label","Bio"],["label","Notes"],[3,"notes"]],template:function(t,e){1&t&&(i.Ac(0,H,2,0,"div",0),i.Ac(1,J,17,8,"div",0)),2&t&&(i.kc("ngIf",!e.user),i.Bb(1),i.kc("ngIf",e.user))},directives:[n.l,P.b,A.a,A.d,r.a,A.b,A.g,A.f,A.c,_.b,_.a,X],pipes:[n.e],styles:[""]}),t})();var Y=a("5dmV"),W=a("YUcS");const Z=[{path:"",component:N,children:[{path:"",pathMatch:"full",component:K},{path:":id",component:K}]},{path:"**",redirectTo:""}];let tt=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[b,R.c],imports:[[n.c,l.b,Y.a,W.a,g.g,g.n,R.c,B.m,c.c.forChild(Z)]]}),t})()}}]);